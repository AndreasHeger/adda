[files]

## For pairsdb:
## If pairsdb is available, ADDA can start directly from
## an indexed fasta file and the pairsdb BLAST results.
## To do this, use:
input_graph=../data/pairsdb_40x40.links.gz

## Filename with sequence information to read
input_fasta=../data/nrdb.fasta

## If Adda is to run blast set input_graph and output_blast
## to the same filename. You probably only want to do this
## for testing.

## input filename with graph
## input_graph=adda.blast.gz
## Set uncompression size if the input graph is compressed 
## and the correct uncompressed file size can not determined
## from gzip. This is the case for large files for gzip archives
## that have been created by concatenating gzip files. Overestimate
## for safety, as an underestimate will cause data at the end of
## the file to be omitted.
input_graph_uncompressed_size=0

## filename with domain information
input_reference=../data/reference.domains.gz

## filename with filtered fasta information
output_fasta=adda.fasta

# filename with blast results
output_blast=adda.blast.gz

# filename with adda input stats
output_stats=adda.stats

# pre-built profiles
output_profiles=adda.profiles

# indexed alignment graph
output_graph=adda.graph
output_index=adda.graph.idx

# fitting output
output_fit=adda.fit
output_fit_details=adda.fit.details
output_fit_transfer=adda.fit.transfer
output_fit_overhang=adda.fit.overhang
output_fit_data=adda.fit.data

# segments
output_segments=adda.segments

# output of domains
output_domains=adda.domains

# sequence information
output_nids=adda.nids

output_cluster=adda.cluster

# output of domain graph
output_domaingraph=adda.domaingraph

# output of minimum spanning tree
output_mst=adda.mst

# output of alignments
output_align=adda.align

# output of domains and their family assignments
output_families=adda.families

## location of dictionaries.
## location is either 'memory' or a filename.

# storage of dictionary mapping nids
# to domain boundaries
storage_domains=memory
# storage of dictionary mapping sequence identifiers
# to nids
storage_nids=memory
  
# filename with adda summary stats
output_summary=adda.summary

[adda]
# minimum domain size
min_domain_size=30

# report step
report_step=10

# split into slices
num_slices=10

[profiles]
# scale factor for profiles - BLAST lambda
scale_factor=0.3

# maximum number of neighbours
max_neighbours=1000

# whether or not to compute the profiles
prepare_profile=False

# whether or not to use pre-built profiles
use_prebuilt_profile=False

[graph]
# consecutive matches are merged
merge_repeats=True

[fit]
# minimum transfer values
min_transfer=10

# minimum overhang values
min_overhang=10

# regex for including families
family_include=^00[a-d]

[segments]
# maximum sequence length
max_sequence_length=10000

# resolution of domain boundaries
resolution=10

# minimum segment size
min_segment_size=30

# extend domains to fully cover the sequence
covering_trees=True

# combine repeats
combine_repeats=True

# refuse to process sequences with less than neighbours
min_neighbours = 0

min_distance_border=0

window_size = 10

min_gap_length = 5

# set true to normalize the correlation matrix
normalize=False

# set true to permute the correlation matrix
permute=False

matrix_loop_fill = False
matrix_add_local_bias = False
multiply=0

matrix_bias_width = 3
matrix_bias_strength = 0

[optimise]
iterations=100

resolution=1.0

disallow_shortening = 0
descend = 0

# sigmoid
sigmoid_k = 100
sigmoid_c = 10
sigmoid_max = 1.0
sigmoid_min = 0.0

relative_overhang = false;

# probability of alignment ending directly is 5% 
exponential_e = 0.05
exponential_f = -0.00173322440138

# if true, calculate only score for query
only_query = 0	

# absolute minimum improvement to stop iteration
min_abs_improvement = 100

# relative minimum improvement to stop iteration
min_rel_improvement = 1e-6

[convert]
# ln evalue threshold for links that are to be
# preferred.
evalue_threshold_trusted_links = -12 

[align]
# set to true if you want to use a cache
use_cache=True

# set the cache_size
cache_size=1000

# apply masks to sequences
mask=False

[cluster]
# minimum number of aligned residues in order to accept a link
min_aligned_residues=30

# pattern for families
pattern_family=AD%06i

[load]
# database name
database=adda.db

# backend to use
backend=sqlite

[blast]
# filename of blast-able database
database=adda

# number of cpus to use for blast
num_cpus=2

# evalue threshold
evalue=1.0

# number of results to collect
num_results=100000

[map]

# filename with fasta sequences 
filename_target_sequences=pfamseq.gz

# minimum percent identity
min_identity=40

# filename with adda sequences
filename_adda_sequences=adda.fasta.gz

# filename with adda domains
filename_domains=adda.result.gz

# number of sequences for each BLAT run
chunksize=1000

[eval]
# location of aligned links in mst
alignment_graph=adda.align.gz

# location of benchmark domains
benchmark_domains=pfam.domains.gz

# location of adda.nids file
adda_nids=adda.nids
